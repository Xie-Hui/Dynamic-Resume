function setup(){camera=new THREE.PerspectiveCamera(38,window.innerWidth/window.innerHeight,1,1e4),camera.position.z=7500,scene=new THREE.Scene,sceneWebgl=new THREE.Scene,prvTarget=new THREE.Vector3(0,0,6e3),camera.lookAt(prvTarget),sceneWebgl.fog=new THREE.Fog(1119021,1,1e4),renderer=new THREE.CSS3DRenderer,renderer.setSize(window.innerWidth,window.innerHeight),renderer.domElement.style.position="absolute",renderer.domElement.style.top=0,document.getElementById("container").appendChild(renderer.domElement),rendererWebgl=new THREE.WebGLRenderer({antialias:!0,alpha:!0}),rendererWebgl.setPixelRatio(window.devicePixelRatio),rendererWebgl.setSize(window.innerWidth,window.innerHeight),rendererWebgl.domElement.style.position="absolute",rendererWebgl.domElement.style.zIndex=-1,rendererWebgl.domElement.style.top=0,document.getElementById("container").appendChild(rendererWebgl.domElement),scene.add(camera),createParticles(),createCvElements(),window.addEventListener("resize",onWindowResize,!1)}function createParticles(){group=new THREE.Group,sceneWebgl.add(group);for(var e=2*Math.PI,n=20,t=10,r=5e3,a=0;r>a;a++){for(var o=2e4*Math.random()-1e4,i=2e4*Math.random()-1e4,d=6e3*Math.random(),E=new THREE.LineBasicMaterial({color:new THREE.Color(4673+61166*Math.random()),linewidth:10}),c=new THREE.Geometry,s=0;n>s;s++){var l=s/(n-1)*e;c.vertices.push(new THREE.Vector3(o+Math.cos(l)*t,i+Math.sin(l)*t,d))}var m=new THREE.Line(c,E);E=null,c=null,group.add(m)}}function particleUpdate(){for(var e in group.children){var n=group.children[e];n.position.x+=2*Math.random()-1,n.position.y+=2*Math.random()-1,n.position.z+=2*Math.random()-1}}function transform(e,n,t){TWEEN.removeAll(),new TWEEN.Tween(camera.position).to({x:n.x+500*Math.random()-250,y:n.y+500*Math.random()-250,z:n.z},t).easing(TWEEN.Easing.Exponential.InOut).start(),new TWEEN.Tween(prvTarget).to({x:e.x,y:e.y,z:e.z},t).easing(TWEEN.Easing.Exponential.InOut).onUpdate(function(){camera.lookAt(prvTarget)}).start()}function flyTo(e,n,t,r){var a=cv_objects[t+"Objects"],o=cv_objects[t+"Desired"];TWEEN.removeAll(),new TWEEN.Tween(camera.position).to({x:n.x+500*Math.random()-250,y:n.y+500*Math.random()-250,z:n.z},r).easing(TWEEN.Easing.Exponential.InOut).start(),new TWEEN.Tween(prvTarget).to({x:e.x,y:e.y,z:e.z},r).easing(TWEEN.Easing.Exponential.InOut).onUpdate(function(){camera.lookAt(prvTarget)}).start();for(var i=0;i<a.length;i++){var d=a[i],e=o[i];new TWEEN.Tween(d.position).to({x:e.position.x,y:e.position.y,z:e.position.z},Math.random()*r+.5*r).easing(TWEEN.Easing.Exponential.InOut).start(),new TWEEN.Tween(d.rotation).to({x:e.rotation.x,y:e.rotation.y,z:e.rotation.z},Math.random()*r+.5*r).easing(TWEEN.Easing.Exponential.InOut).start()}new TWEEN.Tween(this).to({},2*r).onUpdate(render).start()}function flyAway(e,n,t,r){var a=cv_objects[t+"Objects"];cv_objects[t+"Desired"];TWEEN.removeAll(),new TWEEN.Tween(camera.position).to({x:n.x+500*Math.random()-250,y:n.y+500*Math.random()-250,z:n.z},r).easing(TWEEN.Easing.Exponential.InOut).start(),new TWEEN.Tween(prvTarget).to({x:e.x,y:e.y,z:e.z},r).easing(TWEEN.Easing.Exponential.InOut).onUpdate(function(){camera.lookAt(prvTarget)}).start();for(var o=0;o<a.length;o++){var i=a[o],d=new THREE.Vector3((1e4*Math.random()+1e4)*(Math.random()>.5?1:-1),(1e4*Math.random()+1e4)*(Math.random()>.5?1:-1),5e3*Math.random()-5e3),E=new THREE.Vector3(Math.random(),Math.random(),Math.random());new TWEEN.Tween(i.position).to({x:d.x,y:d.y,z:d.z},Math.random()*r+.5*r).easing(TWEEN.Easing.Exponential.InOut).start(),new TWEEN.Tween(i.rotation).to({x:E.x,y:E.y,z:E.z},Math.random()*r+.5*r).easing(TWEEN.Easing.Exponential.InOut).start()}new TWEEN.Tween(this).to({},2*r).onUpdate(render).start()}function animate(){requestAnimationFrame(animate),TWEEN.update(),render()}function render(){particleUpdate(),renderer.render(scene,camera),rendererWebgl.render(sceneWebgl,camera),cameraWander()}function onWindowResize(){camera.aspect=window.innerWidth/window.innerHeight,camera.updateProjectionMatrix(),renderer.setSize(window.innerWidth,window.innerHeight),rendererWebgl.setSize(window.innerWidth,window.innerHeight),render()}function mousewheel(e){e.preventDefault(),e.stopPropagation();var n=0;e.wheelDelta?n=e.wheelDelta/40:e.detail&&(n=-e.detail/3),camera.position.z+=100*n}function cameraWander(){var e=new Date/2e3,n=1;camera.position.x+=Math.sin(e)*n,camera.position.y+=Math.cos(e)*n/5,camera.lookAt(prvTarget)}function bindLangSwitcher(){var e=document.getElementById("cn"),n=document.getElementById("en");e.addEventListener("click",function(){0!==currentLang&&(currentLang=0,document.getElementById("container").innerHTML="",document.getElementById("title").innerHTML="马逸东简历",setup(),animate())}),n.addEventListener("click",function(){1!==currentLang&&(currentLang=1,document.getElementById("container").innerHTML="",document.getElementById("title").innerHTML="Resume of Ma Yidong",setup(),animate())})}var lang=["cn","en"],currentLang=0,camera,scene,renderer,fixcamera,controler,cameraHelper,activecamera,prvTarget,sceneWebgl,rendererWebgl;window.onload=function(){bindLangSwitcher(),setup(),animate()};
function createCvElements(){var e=document.getElementById("container"),i=document.createElement("div");i.className="namecard-container";for(var t=0===currentLang?cv_cn:cv_en,n=Object.keys(t),o=(0===currentLang?"返回":"Return",0);o<n.length;o++){var r=n[o],a=t[r];if(a instanceof Object){var s=Object.keys(a),c=document.createElement("div");c.className=r+"-container",e.appendChild(c);var l=document.createElement("div");l.className=r+"-container";var m=s[0],h=document.createElement("div");h.className=r+"-"+m,h.textContent=a[m],l.appendChild(h),e.appendChild(l);var d=n.length,p=180+50*Math.random(),u=Math.random()*(6/d)+o*(12/d),g=900-150*o,f=-220,b=6e3,w=new THREE.CSS3DObject(l);w.position.x=g,w.position.y=f,w.position.z=b,scene.add(w);var y=3e3+1e3*Math.random(),v=Math.random()*(6/d)+o*(12/d),E=Math.sin(v)*y,C=Math.cos(v)*y,P=1e3*Math.random()+2e3,M=new THREE.Vector3(E,C,P),k=E+1e3*Math.random()-500,j=C+1e3*Math.random()-500,S=P+1500,A=new THREE.Vector3(k,j,S),T=new THREE.Vector3((1e4*Math.random()+1e4)*(Math.random()>.5?1:-1),(1e4*Math.random()+1e4)*(Math.random()>.5?1:-1),5e3*Math.random()-5e3),D=new THREE.Vector3(8e3*Math.random()-4e3,8e3*Math.random()-4e3,5e3*Math.random()),x=new THREE.CSS3DObject(c);x.position.copy(T),x.lookAt(D),scene.add(x);var R=new THREE.CSS3DObject(c);R.position.copy(M),R.lookAt(A),console.log(r+"Objects"),cv_objects[r+"Objects"].push(x),cv_objects[r+"Desired"].push(R),nodePositions[c.className+"target"]=R,nodePositions[c.className+"vector"]=A,nodePositions[c.className+"name"]=r,l.addEventListener("click",function(){var e=nodePositions[this.className+"target"],i=nodePositions[this.className+"vector"],t=nodePositions[this.className+"name"];flyTo(e.position,i,t,1e3)},!1),c.addEventListener("click",function(){var e=nodePositions[this.className+"name"];flyAway(oriTarget,oriFrom,e,1e3)},!1);for(var H=0;H<s.length;H++){var I=s[H],_=a[I];if(_ instanceof Object){var O=Object.keys(_),F=document.createElement("div");F.className=r+"-item-container",e.appendChild(F);for(var G=0;G<O.length;G++){var N=O[G],L=document.createElement("div");if(-1!=Object.keys(icons).indexOf(N)){L.className="cv-item-icon";var B=document.createElement("a");B.href=_[N],B.target="_blank";var U=document.createElement("i");U.className=icons[N],B.appendChild(U),L.appendChild(B),F.appendChild(L)}else L.className=r+"-"+N,L.textContent=_[N];F.appendChild(L)}var z=s.length,p=section_item_r[o]+50*Math.random(),u=Math.random()*(1/z)+(H+.5)*(6.3/z),V=new THREE.Vector3(E+Math.sin(u)*p,C+Math.cos(u)*p,P+300*Math.random()-500),J=new THREE.Vector3((1e4*Math.random()+1e4)*(Math.random()>.5?1:-1),(1e4*Math.random()+1e4)*(Math.random()>.5?1:-1),5e3*Math.random()-5e3),X=new THREE.Vector3(8e3*Math.random()-4e3,8e3*Math.random()-4e3,5e3*Math.random()),w=new THREE.CSS3DObject(F);w.position.copy(J),w.lookAt(X),scene.add(w);var q=new THREE.CSS3DObject(c);q.position.copy(V),q.lookAt(A),cv_objects[r+"Objects"].push(w),cv_objects[r+"Desired"].push(q)}else{var L=document.createElement("div");L.className=r+"-"+I,L.textContent=0===currentLang?"返回":"Return",c.appendChild(L)}}}else{var L=document.createElement("div");L.className="namecard-"+r,L.textContent=t[r],i.appendChild(L)}}var w=new THREE.CSS3DObject(i);w.position.x=0,w.position.y=0,w.position.z=6e3,scene.add(w);var w=new THREE.Object3D;w.position.x=0,w.position.y=0,w.position.z=6e3}function switchLang(){}var cv_cn={logo:"",name:"马逸东",title:"运算化设计师",intro:"曾学习建筑学，擅长参数化设计与数字建造。善于学习，喜欢编程。",educationBackground:{title:"教育背景",graduate:{time:"2015.9-2017.7",school:"清华大学建筑学院",degree:"建筑学硕士",gpa:"GPA 3.58/4",courses:"参加课程: 大数据分析、人机交互"},minor:{time:"2012.9-2015.7",school:"清华大学计算机系",degree:"计算机技术辅修",gpa:"GPA 92/100",courses:"参加课程: 软件工程、计算机辅助设计、数据结构、C++程序设计、计算机系统与组成结构"},undergraduate:{time:"2011.9-2015.7",school:"清华大学建筑学院",degree:"建筑学学士",gpa:"GPA 90/100",courses:"参加课程: 素描水彩、微积分、建筑设计。担任班级生活与学习委员。获得过国家奖学金。"}},projects:{title:"项目经验",issuu_monitor:{name:"Issuu Crawler",brief:"Issuu爬虫，寻找最赞作品集",intro:"用urllib+re实现Issuu.com爬虫，寻找最赞作品集并排序以及下载",skill:["Python"],github:"https://github.com/maajor/IssuuPortfolioCrawler",zhihu:"https://www.zhihu.com/question/38438713/answer/85073618?from=profile_answer_card"},vp3dp:{name:"Fused Synergy",brief:"多材质机械臂空间FDM打印",intro:"将多种材料混合挤出，用机械臂控制实现空间自由打印",skill:["Arduino","Kuka Robot"],behance:"https://www.behance.net/gallery/33713362/VP3DP-Robot"},physarealm:{name:"Physarealm",brief:"黏菌仿生找形",intro:"模仿黏菌觅食过程，实现Agent-Based Modelling找形，并发展为建筑形态",skill:["C#","Grasshopper","Photoshop","Rhino"],github:"https://github.com/maajor/Physarealm",behance:"https://www.behance.net/gallery/33713844/Physarealm",food4rhino:"http://www.food4rhino.com/project/physarealm?ufh"},elders_ambition:{name:"长者之野望",brief:"拯救软件工程世界的魔塔RPG游戏",intro:"2014年软件工程课年度最佳作品，主要负责UI/UX设计",skill:["Photoshop","Qt","C++"],github:"https://github.com/a-serious/elders-ambition",se2014:"http://soft.cs.tsinghua.edu.cn/blog/?q=se2014"},ife:{name:"百度前端学院",brief:"参加百度IFE学习前端技术",intro:"最终项目完成原生JS的图片展示库",skill:["HTML","CSS","Javascript"],github:"https://github.com/xuteam"},fingerprint:{name:"Fingerprint on Painting",brief:"HCI课程项目",intro:"精调深度卷积神经网络，识别画作风格与作者",skill:["Python","Caffe"],github:"https://github.com/THU-HCI2016-MLGroup/FingerprintOnPaintings"}},awards:{title:"获奖",excellent:{time:2016,name:"2016年清华大学优良毕业生",institution:"清华大学",intro:"授予10%毕业生"},dada:{time:2015,name:"DADA2015最佳学生论文奖",institution:"中国建筑学会数字建筑专委会颁发",intro:"数字建筑专委会国际会议论文。题目：不规则剪式铰的参数化设计与建造，唯一本科获奖者。"},evolo:{time:2014,name:"Evolo摩天楼竞赛 荣誉提名",institution:"evolo杂志社颁发",intro:"国际建筑概念设计竞赛获奖，提名奖总共20/600+。主要负责建模与效果图制作。"},national_award:{time:2012,name:"国家奖学金",institution:"中国教育部颁发",intro:"大一学期成绩优秀获奖"},software_award:{time:2014,name:"软件工程课年度最佳项目",institution:"软件工程全校通选课颁发",intro:'项目"长者之野望"，主要负责UI/UX设计'},innovation_award:{time:2014,name:"科技创新奖学金",institution:"清华大学颁发",intro:"大三学期参加科创活动成果较多，获得奖励"}},workExperience:{title:"工作经历",xwg:{time:"2015.9-",position:"助理建筑师",company:"XWG工作室",role:"主要负责参数化建模与渲染"},shanghai:{time:"2015.5-2015.8",position:"建筑实习生",company:"上海市建筑设计研究院",role:"主要负责参数化建模与渲染"},freelancer:{time:"2014.9-",position:"",company:"自由职业者(兼职)",role:"从事程序开发、建模、渲染、建筑设计等工作"}},skills:{title:"技能",html:{name:"HTML/CSS",proficency:"熟练",intro:"能够编写语义化HTML，了解HTML5和CSS3新特性。"},javascript:{name:"Javascript",proficency:"熟练",intro:"熟悉JQuery，会用Gulp构建项目。"},visulize:{name:"可视化工具",proficency:"熟悉",intro:"会使用Three.js，熟练掌握Processing与Grasshopper"},design:{name:"平面图像处理",proficency:"精通",intro:"多年使用Photoshop、Illustrator和Indesign经验"},python:{name:"Python",proficency:"熟悉",intro:"对爬虫和数据处理有一定经验"},csharp:{name:"C#",proficency:"熟练",intro:"掌握C#Rhino二次开发，了解WPF"},rhino:{name:"Rhino",proficency:"精通",intro:"四年使用经验，一年教学经验"},max:{name:"3DSMax",proficency:"熟练",intro:"对多边形建模、贴图渲染、动作绑定均有一定研究"}}},cv_en={logo:"",name:"Ma Yidong",title:"Computational Designer",intro:"Study architure before, specialize in computational design and fabrication. Eager to learn, like programming.",educationBackground:{title:"Background",graduate:{time:"2015.9-2017.7",school:"School of Architecture, Tsinghua University",degree:"Master of Architecture",gpa:"GPA 3.58/4",courses:"Course: Big Data Analytic, Human-Computer Interaction"},minor:{time:"2012.9-2015.7",school:"Department of Computer Science and Technology, Tsinghua University",degree:"Computer Technology Minor",gpa:"GPA 92/100",courses:"Cource: Software Engineering, Computer-Aided Design, Data Structure, C++ Programing, Computer Architecture"},undergraduate:{time:"2011.9-2015.7",school:"School of Architecture, Tsinghua University",degree:"Bachelor of Architecture",gpa:"GPA 90/100",courses:"Cource: Fine Art, Calculus, Architecture Design."}},projects:{title:"Projects",issuu_monitor:{name:"Issuu Crawler",brief:"A Issuu crawler to find most liked portfolios",intro:"using urllib+re to realize Issuu.com crawler，find and sort best portfolios and download them",skill:["Python"],github:"https://github.com/maajor/IssuuPortfolioCrawler",zhihu:"https://www.zhihu.com/question/38438713/answer/85073618?from=profile_answer_card"},vp3dp:{name:"Fused Synergy",brief:"Various-property FDM spatial printing with robotic arm",intro:"Mix and extrude multiple materials, freeform spatial printing using robot",skill:["Arduino","Kuka Robot"],behance:"https://www.behance.net/gallery/33713362/VP3DP-Robot"},physarealm:{name:"Physarealm",brief:"Biomimic formfinding inspired by slime mold",intro:"Research slime mold's foraging behavior, using agent-based modelling technique to simulate and develop into archtecture form.",skill:["C#","Grasshopper","Photoshop","Rhino"],github:"https://github.com/maajor/Physarealm",behance:"https://www.behance.net/gallery/33713844/Physarealm",food4rhino:"http://www.food4rhino.com/project/physarealm?ufh"},elders_ambition:{name:"Elder's Ambition",brief:"A Magic Tower-like RPG game to rescue software engineering's world",intro:"Best project of 2014 Software Engineering Course. I am responsible for UI/UX design.",skill:["Photoshop","Qt","C++"],github:"https://github.com/a-serious/elders-ambition",se2014:"http://soft.cs.tsinghua.edu.cn/blog/?q=se2014"},ife:{name:"Baidu IFE",brief:"Participate IFE to learn Front-end engineering skills.",intro:"Making a native javascript image showcase library 'm-album' in final project",skill:["HTML","CSS","Javascript"],github:"https://github.com/xuteam"},fingerprint:{name:"Fingerprint on Painting",brief:"HCI Course Project",intro:"Finetune CNN to recognize style and artist of paintings",skill:["Python","Caffe"],github:"https://github.com/THU-HCI2016-MLGroup/FingerprintOnPaintings"}},awards:{title:"Awards",excellent:{time:2016,name:"Excellent Graduate of Tsinghua University",institution:"Tsinghua University",intro:"Awarded to top 10% of graduates."},dada:{time:2015,name:"DADA2015 Best Student Paper",institution:"Digital Architecture Design Association, Architect Branch, Architectural Society of China",intro:"Title: Parametric Design and Fabrication of Irregular Scissor-Pair Structure，only undergraduate receiver."},evolo:{time:2014,name:"Evolo Skyscraper Competition Honorable Mention",institution:"eVolo Magazine",intro:"Concept architecture competition，receipient: 20/600+ entries. Responsible for modelling and rendering."},national_award:{time:2012,name:"National Scholarship",institution:"Ministry of Education of the People's Republic of China",intro:"For outstanding academic performance in freshman year. GPA 1/96"},software_award:{time:2014,name:"Best project for 2014's Software Engineering Course",institution:"2014 Software Engineering Course",intro:'Project"Elder\'s Ambition"，responsible for UI/UX deign'},innovation_award:{time:2014,name:"Innovation Awards",institution:"Tsinghua University",intro:"Receive for many inovations in junior year."}},workExperience:{title:"Experience",xwg:{time:"2015.9-",position:"Assistant Architect",company:"XWG Archi-studio",role:"Parametric modelling and rendering"},skj:{time:"2014.9-2015.9",position:"Editor",company:"Sankaijian Architecture Report",role:"write and translate architectural reports, several articles reveice 10000+ reading on Wechat."},skj:{time:"2014.10-2015.4",position:"Assistant Designer",company:"Exhibiton Design Group, Milan Expo China Pavilion",role:"modelling one of project"},shanghai:{time:"2015.5-2015.8",position:"Architecture Intern",company:"Shanghai Xian Dai Architectural Design (Group)Co.,Ltd",role:"Parametric modelling and rendering"},freelancer:{time:"2014.9-",position:"",company:"Freelancer(part-time)",role:"programming, modelling, rendering and design work."}},skills:{title:"Skills",html:{name:"HTML/CSS",proficency:"Proficient",intro:"can write semantic HTML，know new features in HTML5 and CSS3"},javascript:{name:"Javascript",proficency:"Proficient",intro:"Proficient with JQuery，know how to use Gulp"},visulize:{name:"Visualizing",proficency:"Familier",intro:"know some Three.js，proficient in Processing与Grasshopper"},design:{name:"2D Graphic",proficency:"Expert",intro:"many year's experience in Photoshop、Illustrator and Indesign"},python:{name:"Python",proficency:"Familier",intro:"have experience in data analysis and making crawler"},csharp:{name:"C#",proficency:"Proficient",intro:"delelop C# Rhino plugin，know about WPF"},rhino:{name:"Rhino",proficency:"Expert",intro:"four years' using experience, one year's teaching experience"},max:{name:"3DSMax",proficency:"Proficient",intro:"have good understanding of polygonal modelling, mapping and rendering, rigging."}}},nodePositions={},auxBoxes={},oriTarget=new THREE.Vector3(0,0,6e3),oriFrom=new THREE.Vector3(0,0,7500),icons={github:"fa fa-github",zhihu:"fa fa-comment",behance:"fa fa-behance",se2014:"fa fa-graduation-cap",food4rhino:"fa fa-bug",baidu:"fa fa-terminal"},section_item_r=[300,300,300,300,400,450,350,300,300,300,300],cv_objects={educationBackgroundObjects:[],educationBackgroundDesired:[],projectsObjects:[],projectsDesired:[],awardsObjects:[],awardsDesired:[],workExperienceObjects:[],workExperienceDesired:[],skillsObjects:[],skillsDesired:[]};